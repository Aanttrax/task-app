@let taskLocal = task();
@if (taskLocal) {
  <article class="d-flex flex-column w-100 m-auto p-2" style="max-width: 600px; min-width: 330px">
    <div class="w-100 bg-primary text-white d-flex justify-content-between align-items-center px-2">
      <span
        class="rounded-circle bg-white d-inline-block text-center border"
        [class.bg-transparent]="!taskLocal.done"
        [class.border-white]="taskLocal.done"
        (click)="changeStatus(taskLocal)"
        (keydown.enter)="changeStatus(taskLocal)"
        (keydown.space)="changeStatus(taskLocal)"
        tabindex="0"
        style="width: 24px; height: 24px; line-height: 24px; font-size: 0.8rem; cursor: pointer">
      </span>
      <button
        class="btn d-flex justify-content-between"
        style="width: 70%"
        type="button"
        data-bs-toggle="collapse"
        [attr.data-bs-target]="'#' + taskLocal._id"
        aria-expanded="false"
        aria-controls="collapseTask">
        <span>{{ taskLocal.title }}</span>
      </button>
      <!--  -->
      <div>
        <svg
          (click)="toEdit(taskLocal)"
          style="cursor: pointer"
          class="mx-2"
          fill="none"
          height="24"
          stroke-width="1.5"
          viewBox="0 0 24 24"
          width="24"
          xmlns="http://www.w3.org/2000/svg">
          <path
            d="M20 12V5.74853C20 5.5894 19.9368 5.43679 19.8243 5.32426L16.6757 2.17574C16.5632 2.06321 16.4106 2 16.2515 2H4.6C4.26863 2 4 2.26863 4 2.6V21.4C4 21.7314 4.26863 22 4.6 22H11"
            stroke="currentColor"
            stroke-linecap="round"
            stroke-linejoin="round" />
          <path
            d="M8 10H16M8 6H12M8 14H11"
            stroke="currentColor"
            stroke-linecap="round"
            stroke-linejoin="round" />
          <path
            d="M16 5.4V2.35355C16 2.15829 16.1583 2 16.3536 2C16.4473 2 16.5372 2.03725 16.6036 2.10355L19.8964 5.39645C19.9628 5.46275 20 5.55268 20 5.64645C20 5.84171 19.8417 6 19.6464 6H16.6C16.2686 6 16 5.73137 16 5.4Z"
            fill="currentColor"
            stroke="currentColor"
            stroke-linecap="round"
            stroke-linejoin="round" />
          <path
            d="M17.9541 16.9394L18.9541 15.9394C19.392 15.5015 20.102 15.5015 20.5399 15.9394V15.9394C20.9778 16.3773 20.9778 17.0873 20.5399 17.5252L19.5399 18.5252M17.9541 16.9394L14.963 19.9305C14.8131 20.0804 14.7147 20.2741 14.6821 20.4835L14.4394 22.0399L15.9957 21.7973C16.2052 21.7646 16.3988 21.6662 16.5487 21.5163L19.5399 18.5252M17.9541 16.9394L19.5399 18.5252"
            stroke="currentColor"
            stroke-linecap="round"
            stroke-linejoin="round" />
        </svg>
        <!--  -->
        <svg
          (click)="deleteTask(taskLocal._id)"
          style="cursor: pointer"
          viewBox="0 0 448 512"
          xmlns="http://www.w3.org/2000/svg"
          height="24"
          width="24">
          <path
            fill="currentColor"
            d="M432 80h-82.38l-34-56.75C306.1 8.827 291.4 0 274.6 0H173.4C156.6 0 141 8.827 132.4 23.25L98.38 80H16C7.125 80 0 87.13 0 96v16C0 120.9 7.125 128 16 128H32v320c0 35.35 28.65 64 64 64h256c35.35 0 64-28.65 64-64V128h16C440.9 128 448 120.9 448 112V96C448 87.13 440.9 80 432 80zM171.9 50.88C172.9 49.13 174.9 48 177 48h94c2.125 0 4.125 1.125 5.125 2.875L293.6 80H154.4L171.9 50.88zM352 464H96c-8.837 0-16-7.163-16-16V128h288v320C368 456.8 360.8 464 352 464zM224 416c8.844 0 16-7.156 16-16V192c0-8.844-7.156-16-16-16S208 183.2 208 192v208C208 408.8 215.2 416 224 416zM144 416C152.8 416 160 408.8 160 400V192c0-8.844-7.156-16-16-16S128 183.2 128 192v208C128 408.8 135.2 416 144 416zM304 416c8.844 0 16-7.156 16-16V192c0-8.844-7.156-16-16-16S288 183.2 288 192v208C288 408.8 295.2 416 304 416z" />
        </svg>
      </div>
    </div>
    <div class="collapse" [id]="taskLocal._id">
      <div class="card card-body text-white">
        {{ taskLocal.description }}
      </div>
    </div>
  </article>
}
